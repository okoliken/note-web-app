"use client";
import { ToggleGroup, ToggleGroupItem } from "@/components/ui/toggle-group";
import { useTheme } from "next-themes";
import { Button } from "@/components/ui/button";
import { useEffect, useState } from "react";
// import { RadioGroup, RadioGroupItem } from "@/components/ui/radio-group";

export default function Settings() {
  const { theme, setTheme } = useTheme();
  const [selectedTheme, setSelectedTheme] = useState("");

  // Handle initial theme sync after component mounts
  useEffect(() => {
    setSelectedTheme(theme || "system");
  }, [theme]);

  const applyChanges = () => {
    if (selectedTheme) {
      setTheme(selectedTheme);
    }
  };

  return (
    <div className="text-base-950 dark:text-white p-8 w-full">
      <div className="flex flex-col gap-1">
        <h3 className="text-base font-semibold">Font Theme</h3>
        <p className="text-sm">Choose your font theme:</p>
      </div>

      <ToggleGroup type="single" className="w-full max-w-[528px] mt-[31px]">
        <ToggleGroupItem
          value="sans-serif"
          aria-label="Sans-serif font"
          className="h-[72px] border border-base-200 dark:border-base-700 p-4 rounded-xl"
        >
          <div className="flex items-center justify-between w-full">
            <div className="flex items-center gap-x-4">
              <div className="w-10 h-10 bg-white dark:bg-base-950 border border-base-200 dark:border-base-700 rounded-xl flex items-center justify-center">
                <svg
                  width="18"
                  height="12"
                  viewBox="0 0 18 12"
                  fill="currentColor"
                  className="text-[#0E121B] dark:text-white"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M1.80799 11.5507H0L4.06246 0.261841H6.0303L10.0928 11.5507H8.28477L5.09323 2.31236H5.00504L1.80799 11.5507ZM2.11116 7.12999H7.97609V8.56315H2.11116V7.12999Z"
                    fill="currentColor"
                  />
                  <path
                    d="M13.8218 11.7381C13.2853 11.7381 12.8002 11.6389 12.3666 11.4405C11.933 11.2384 11.5894 10.9462 11.3358 10.5641C11.0859 10.1819 10.961 9.71335 10.961 9.15846C10.961 8.68074 11.0528 8.28754 11.2366 7.97886C11.4203 7.67018 11.6684 7.42581 11.9807 7.24574C12.2931 7.06568 12.6422 6.92971 13.028 6.83784C13.4139 6.74597 13.8071 6.67615 14.2076 6.62838C14.7148 6.56958 15.1263 6.52181 15.4424 6.48506C15.7584 6.44464 15.9881 6.38033 16.1314 6.29214C16.2747 6.20395 16.3464 6.06063 16.3464 5.86219V5.82361C16.3464 5.34221 16.2104 4.96922 15.9385 4.70464C15.6702 4.44005 15.2696 4.30776 14.7368 4.30776C14.1819 4.30776 13.7446 4.43087 13.4249 4.67708C13.1089 4.91961 12.8902 5.18971 12.769 5.48737L11.22 5.13459C11.4038 4.62012 11.672 4.20487 12.0248 3.88884C12.3813 3.56913 12.791 3.33762 13.254 3.19431C13.7171 3.04732 14.204 2.97382 14.7148 2.97382C15.0528 2.97382 15.4111 3.01424 15.7896 3.09509C16.1718 3.17226 16.5283 3.31558 16.859 3.52504C17.1934 3.7345 17.4672 4.03399 17.6803 4.42352C17.8934 4.80937 18 5.31098 18 5.92834V11.5507H16.3904V10.3932H16.3243C16.2177 10.6063 16.0579 10.8158 15.8447 11.0216C15.6316 11.2274 15.3578 11.3982 15.0234 11.5342C14.689 11.6702 14.2885 11.7381 13.8218 11.7381ZM14.1801 10.4152C14.6357 10.4152 15.0253 10.3252 15.3487 10.1451C15.6757 9.96507 15.9238 9.72989 16.0928 9.43958C16.2655 9.1456 16.3519 8.83141 16.3519 8.497V7.4056C16.2931 7.46439 16.1792 7.51951 16.0101 7.57096C15.8447 7.61873 15.6555 7.66099 15.4424 7.69774C15.2292 7.73081 15.0216 7.76205 14.8195 7.79145C14.6174 7.81717 14.4483 7.83922 14.3124 7.85759C13.9927 7.89801 13.7005 7.966 13.4359 8.06154C13.175 8.15709 12.9656 8.29489 12.8075 8.47495C12.6532 8.65134 12.576 8.88653 12.576 9.18051C12.576 9.58841 12.7267 9.89709 13.028 10.1066C13.3294 10.3123 13.7134 10.4152 14.1801 10.4152Z"
                    fill="currentColor"
                  />
                </svg>
              </div>

              <div className="flex items-start flex-col gap-1.5">
                <h3>Sans-serif </h3>
                <p className="font-normal text-xs">
                  Clean and modern, easy to read.
                </p>
              </div>
            </div>
          </div>
        </ToggleGroupItem>
        <ToggleGroupItem
          value="Serif"
          aria-label="Serif font"
          className="h-[72px] border border-base-200 dark:border-base-700 p-4 rounded-xl"
        >
          <div className="flex items-center justify-between w-full">
            <div className="flex items-center gap-x-4">
              <div className="w-10 h-10 bg-white dark:bg-base-950 border border-base-200 dark:border-base-700 rounded-xl flex items-center justify-center">
                <svg
                  width="18"
                  height="12"
                  viewBox="0 0 18 12"
                  fill="none"
                  className="text-[#0E121B] dark:text-white"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M5.50149 0.316711L9.35885 10.2447C9.5064 10.6346 9.67503 10.8981 9.86473 11.0351C10.065 11.1721 10.2494 11.2459 10.418 11.2564V11.5726C10.1651 11.5515 9.86473 11.541 9.51694 11.541C9.17968 11.5305 8.83716 11.5252 8.48936 11.5252C8.04671 11.5252 7.63568 11.5305 7.25627 11.541C6.87686 11.541 6.57122 11.5515 6.33936 11.5726V11.2564C6.87686 11.2354 7.21411 11.1458 7.35112 10.9877C7.49867 10.8191 7.46705 10.466 7.25627 9.9285L4.41067 2.24539L4.66362 1.96083L2.03934 8.82188C1.84964 9.29615 1.73371 9.69137 1.69155 10.0075C1.65993 10.3237 1.68628 10.5714 1.77059 10.7506C1.86545 10.9297 2.02353 11.0562 2.24486 11.13C2.46618 11.2038 2.7402 11.2459 3.06692 11.2564V11.5726C2.75074 11.5515 2.4293 11.541 2.10258 11.541C1.7864 11.5305 1.48603 11.5252 1.20147 11.5252C0.948532 11.5252 0.721938 11.5305 0.521693 11.541C0.331986 11.541 0.158089 11.5515 0 11.5726V11.2564C0.221324 11.2037 0.442648 11.072 0.663972 10.8612C0.885297 10.6504 1.09608 10.2921 1.29633 9.78622L4.96398 0.316711C5.0483 0.316711 5.13788 0.316711 5.23273 0.316711C5.32759 0.316711 5.41717 0.316711 5.50149 0.316711ZM7.16142 7.01967V7.33585H2.45037L2.60846 7.01967H7.16142Z"
                    fill="currentColor"
                  />
                  <path
                    d="M12.7198 11.6833C12.2772 11.6833 11.8978 11.599 11.5816 11.4303C11.2654 11.2617 11.0283 11.0299 10.8702 10.7348C10.7121 10.4397 10.6331 10.1024 10.6331 9.72299C10.6331 9.25926 10.7385 8.88512 10.9492 8.60056C11.16 8.30546 11.4288 8.06832 11.7555 7.88916C12.0928 7.70999 12.4458 7.56244 12.8147 7.44651C13.1941 7.32004 13.5472 7.20411 13.8739 7.09871C14.2111 6.98278 14.4852 6.85104 14.6959 6.70349C14.9173 6.55594 15.0279 6.36097 15.0279 6.11856V5.04356C15.0279 4.66415 14.9647 4.36378 14.8382 4.14246C14.7223 3.91059 14.5589 3.74724 14.3482 3.65238C14.1479 3.55753 13.9055 3.5101 13.6209 3.5101C13.3785 3.5101 13.1203 3.54699 12.8463 3.62076C12.5723 3.684 12.3562 3.81574 12.1981 4.01599C12.43 4.07922 12.6197 4.20569 12.7673 4.3954C12.9254 4.57457 13.0044 4.80116 13.0044 5.07518C13.0044 5.37028 12.9043 5.60214 12.704 5.77077C12.5143 5.9394 12.2719 6.02371 11.9768 6.02371C11.6501 6.02371 11.4077 5.92359 11.2496 5.72334C11.0915 5.51256 11.0125 5.27016 11.0125 4.99614C11.0125 4.71158 11.081 4.47971 11.218 4.30055C11.3655 4.12138 11.5553 3.95275 11.7871 3.79466C12.0401 3.62603 12.3615 3.48375 12.7515 3.36782C13.1519 3.25189 13.5946 3.19392 14.0794 3.19392C14.5326 3.19392 14.9225 3.24662 15.2493 3.35201C15.5865 3.44687 15.8658 3.60496 16.0871 3.82628C16.3506 4.06868 16.5245 4.37432 16.6088 4.74319C16.6931 5.10153 16.7353 5.53891 16.7353 6.05533V10.4186C16.7353 10.6821 16.7669 10.8718 16.8301 10.9877C16.9039 11.0931 17.0198 11.1458 17.1779 11.1458C17.2833 11.1458 17.3835 11.1194 17.4783 11.0667C17.5837 11.014 17.7049 10.935 17.8419 10.8296L18 11.0984C17.7787 11.2775 17.5521 11.4198 17.3202 11.5252C17.0989 11.6306 16.8143 11.6833 16.4665 11.6833C16.1293 11.6833 15.8553 11.6306 15.6445 11.5252C15.4337 11.4198 15.2756 11.267 15.1702 11.0667C15.0754 10.8665 15.0279 10.6188 15.0279 10.3237C14.7539 10.7664 14.4272 11.1036 14.0478 11.3355C13.6684 11.5674 13.2257 11.6833 12.7198 11.6833ZM13.4787 10.9245C13.7738 10.9245 14.0478 10.8401 14.3007 10.6715C14.5642 10.5029 14.8066 10.2499 15.0279 9.91269V6.76673C14.912 6.93536 14.7434 7.08291 14.522 7.20938C14.3007 7.32531 14.0636 7.44651 13.8106 7.57298C13.5577 7.69945 13.3153 7.847 13.0834 8.01563C12.8621 8.17372 12.6777 8.37923 12.5301 8.63217C12.3826 8.88512 12.3088 9.20656 12.3088 9.59652C12.3088 10.0075 12.4142 10.3343 12.625 10.5767C12.8358 10.8085 13.1203 10.9245 13.4787 10.9245Z"
                    fill="currentColor"
                  />
                </svg>
              </div>

              <div className="flex items-start flex-col gap-1.5">
                <h3>Serif</h3>
                <p className="font-normal text-xs">
                  Classic and elegant for a timeless feel.
                </p>
              </div>
            </div>
          </div>
        </ToggleGroupItem>
        <ToggleGroupItem
          value="monospace"
          aria-label="Monospace font"
          className="h-[72px] border border-base-200 dark:border-base-700 p-4 rounded-xl"
        >
          <div className="flex items-center justify-between w-full">
            <div className="flex items-center gap-x-4">
              <div className="w-10 h-10 bg-white dark:bg-base-950 border border-base-200 dark:border-base-700 rounded-xl flex items-center justify-center">
                <svg
                  width="18"
                  height="12"
                  viewBox="0 0 18 12"
                  fill="none"
                  className="text-[#0E121B] dark:text-white"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M0 11.3653L3.60467 0.434448H5.54051L9.14518 11.3653H7.37622L5.60726 5.40756C5.42925 4.80678 5.25125 4.206 5.07324 3.60522C4.90635 2.99332 4.73947 2.38141 4.57259 1.76951H4.50584C4.35008 2.38141 4.1832 2.99332 4.00519 3.60522C3.8383 4.206 3.66586 4.80678 3.48785 5.40756L1.7022 11.3653H0ZM2.01928 8.22788V6.9095H7.09252V8.22788H2.01928Z"
                    fill="currentColor"
                  />
                  <path
                    d="M13.3441 11.5655C12.8212 11.5655 12.3484 11.471 11.9256 11.2818C11.514 11.0816 11.1858 10.809 10.941 10.4641C10.7074 10.1081 10.5905 9.69088 10.5905 9.21248C10.5905 8.30019 11.0356 7.60485 11.9256 7.12645C12.8268 6.64805 14.3009 6.33097 16.348 6.17522C16.3369 5.84145 16.259 5.5355 16.1144 5.25736C15.9809 4.97922 15.7639 4.76228 15.4635 4.60652C15.1743 4.43964 14.7904 4.35619 14.312 4.35619C13.9783 4.35619 13.6501 4.4007 13.3274 4.4897C13.0048 4.56758 12.6933 4.67883 12.3929 4.82347C12.0925 4.9681 11.8088 5.11829 11.5418 5.27405L10.9243 4.15594C11.2247 3.97793 11.5696 3.79992 11.959 3.62191C12.3484 3.43278 12.7656 3.28258 13.2106 3.17133C13.6667 3.06007 14.1285 3.00444 14.5957 3.00444C15.3523 3.00444 15.9809 3.14351 16.4815 3.42165C16.9822 3.69979 17.3604 4.09474 17.6163 4.60652C17.8722 5.11829 18.0001 5.73576 18.0001 6.45892V11.3653H16.6484L16.5149 10.3139H16.4648C16.0309 10.6477 15.5414 10.9425 14.9962 11.1984C14.4511 11.4432 13.9004 11.5655 13.3441 11.5655ZM13.8114 10.2472C14.2453 10.2472 14.6736 10.1526 15.0964 9.96346C15.5191 9.77432 15.9364 9.50731 16.348 9.16242V7.22658C15.2799 7.30446 14.44 7.42684 13.8281 7.59372C13.2273 7.7606 12.8045 7.97199 12.5598 8.22788C12.315 8.47264 12.1926 8.7619 12.1926 9.09567C12.1926 9.36268 12.2649 9.58519 12.4096 9.7632C12.5653 9.93008 12.7656 10.0525 13.0103 10.1303C13.2551 10.2082 13.5221 10.2472 13.8114 10.2472Z"
                    fill="currentColor"
                  />
                </svg>
              </div>

              <div className="flex items-start flex-col gap-1.5">
                <h3>Monospace</h3>
                <p className="font-normal text-xs">
                  Adapts to your device&apos;s theme
                </p>
              </div>
            </div>
          </div>
        </ToggleGroupItem>
      </ToggleGroup>

      <div className="flex items-end justify-end w-full max-w-[528px]">
        <Button className="mt-6" onClick={applyChanges}>
          Apply Changes
        </Button>
      </div>
    </div>
  );
}
